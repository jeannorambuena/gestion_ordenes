{% extends 'base.html' %}

{% block title %}Editar Jefatura DAEM{% endblock %}

{% block content %}
<div class="container mt-5">
  <h2 class="text-center mb-4">Editar Jefatura DAEM</h2>

  <form method="POST" action="{{ url_for('jefatura_daem.editar_jefatura_daem', id=jefatura.id) }}"
        class="mx-auto p-4 shadow rounded bg-light"
        style="max-width: 600px;">
    {{ form.hidden_tag() }}

    <!-- Funcionario asociado (no editable) -->
    <div class="mb-3">
      <label for="nombre_funcionario" class="form-label">Funcionario</label>
      <input type="text"
             id="nombre_funcionario"
             class="form-control"
             value="{{ nombre_completo_funcionario }}"
             readonly>
      <input type="hidden" name="rut_funcionario" value="{{ form.rut_funcionario.data }}">
    </div>

    <!-- Cargo -->
    <div class="mb-3">
      <label for="id_cargo" class="form-label">Cargo</label>
      {{ form.id_cargo(class="form-select") }}
      {% for error in form.id_cargo.errors %}
        <div class="text-danger">{{ error }}</div>
      {% endfor %}
    </div>

    <!-- Fecha de Inicio -->
    <div class="mb-3">
      <label for="fecha_inicio" class="form-label">Fecha de Inicio</label>
      {{ form.fecha_inicio(class="form-control") }}
      {% for error in form.fecha_inicio.errors %}
        <div class="text-danger">{{ error }}</div>
      {% endfor %}
    </div>

    <!-- Fecha de Término -->
    <div class="mb-3">
      <label for="fecha_termino" class="form-label">Fecha de Término</label>
      {{ form.fecha_termino(class="form-control") }}
      {% for error in form.fecha_termino.errors %}
        <div class="text-danger">{{ error }}</div>
      {% endfor %}
    </div>

    <!-- Botones -->
    <div class="d-flex justify-content-between">
      <button type="submit" class="btn btn-primary">Guardar Cambios</button>
      <a href="{{ url_for('jefatura_daem.listar_jefaturas_daem') }}" class="btn btn-secondary">Cancelar</a>
    </div>
  </form>
</div>
{% endblock %}
