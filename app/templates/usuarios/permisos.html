{% extends 'base.html' %}

{% block title %}Permisos de {{ usuario.nombre_usuario }}{% endblock %}

{% block content %}
<div class="container mt-5 d-flex justify-content-center">
    <div class="card shadow-lg p-4 mb-5 bg-white rounded" style="width: 100%; max-width: 800px;">
        <h2 class="text-center mb-4">Permisos para {{ usuario.nombre_usuario }}</h2>
        <form method="POST">
            <div class="row">
                {% for permiso in todos_los_permisos %}
                <div class="col-md-6 mb-3">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="permisos" value="{{ permiso.id }}"
                               id="permiso{{ permiso.id }}"
                               {% if permiso.id in permisos_usuario %}checked{% endif %}>
                        <label class="form-check-label" for="permiso{{ permiso.id }}">
                            <strong>{{ permiso.nombre }}</strong><br>
                            <small class="text-muted">{{ permiso.descripcion }}</small>
                        </label>
                    </div>
                </div>
                {% endfor %}
            </div>

            <div class="mt-4 d-flex justify-content-between">
                <a href="{{ url_for('usuarios_bp.listar_usuarios') }}" class="btn btn-secondary">Cancelar</a>
                <button type="submit" class="btn btn-primary">Guardar Permisos</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
